\doxysection{device\+Rater.\+h}
\hypertarget{device_rater_8h_source}{}\label{device_rater_8h_source}\index{C:/Users/Admin/Desktop/PrismEngine/PrismEngine/src/deviceRater.h@{C:/Users/Admin/Desktop/PrismEngine/PrismEngine/src/deviceRater.h}}
\mbox{\hyperlink{device_rater_8h}{См. документацию.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ "{}vulkan/vulkan.h"{}}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceprism}{prism}}\ \{}
\DoxyCodeLine{00006\ \ \ \ \ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceprism_1_1_p_g_c}{PGC}}\ \{}
\DoxyCodeLine{00007\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score}{DeviceScore}}\ \{}
\DoxyCodeLine{00008\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score_a8c3c9d1f5091a5007a1b52539174d07c}{typeScore}}\ =\ 0;}
\DoxyCodeLine{00009\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score_aecb9f00308efee2aebacc93628f02492}{featureScore}}\ =\ 0;}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score_a6eb475d2250a8c0b53d18e2482efdfc1}{hardwareScore}}\ =\ 0;}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score_a8e476bc99003b15dc0c15c54320dd5e1}{apiScore}}\ =\ 0;}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores}{FeatureScores}}\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores_a3895e76537d9b5ce027266d4413571d5}{swapchain}}\ =\ 0.0f;\ \ \ \ \ \ \ \ }
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores_a6a931c45ec12f10775b2dec48e244ad1}{raytracing}}\ =\ 0.0f;\ \ \ \ \ \ \textcolor{comment}{//\ RT\ поддержка}}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores_a29e93c73a52926a3d4cd9d5140c4686e}{upscaling}}\ =\ 0.0f;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ DLSS/FSR}}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores_af449d8d5b0f2d3de15a4ec585106cab6}{advancedFeatures}}\ =\ 0.0f;\ \textcolor{comment}{//\ Доп.\ возможности}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score}{HardwareScore}}\ \{}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a99d406af4ecb587232a42d1f59f10148}{vramGB}}\ =\ 0.0f;}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a99abc3e23446d45f657a21e729878bec}{shaderCores}}\ =\ 0.0f;}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a47b0ca7a52afff0440ce752419f3ae1a}{clockSpeedGHz}}\ =\ 0.0f;}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_acf817bbcb053be409cbb6ac575cf118a}{textureUnits}}\ =\ 0.0f;}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Весовые\ коэффициенты\ для\ расчета\ оценки}}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_afd04a2c3cc10249ea64c8a408faf3bfa}{VRAM\_WEIGHT}}\ =\ 0.5f;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a7a34d8960aadbe566e96332f29d90fa1}{SHADER\_CORES\_WEIGHT}}\ =\ 0.3f;}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a08a7433f80715523c1ad93b6b0e08892}{CLOCK\_SPEED\_WEIGHT}}\ =\ 0.2f;}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Референсные\ значения\ для\ нормализации}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_ab293d1a7c561d7d2e19a293f0efa83ad}{REFERENCE\_VRAM\_GB}}\ =\ 16.0f;\ \ \ \ \textcolor{comment}{//\ 16GB\ считается\ "{}идеальным"{}\ объемом}}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_abf658d642232678048f74a2cb4da4485}{REFERENCE\_SHADER\_CORES}}\ =\ 10.0f;\ \textcolor{comment}{//\ 10\ ядер\ как\ опорная\ точка}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score_a7b5f0ee2f5ddd9230db931255b42faf9}{REFERENCE\_CLOCK\_SPEED\_GHZ}}\ =\ 3.0f;\ \textcolor{comment}{//\ 3GHz\ как\ опорная\ частота}}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper}{ScoreWrapper}}\ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a9ebdeaaa783828a4fce76d2c2ac5933b}{print}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score}{DeviceScore}}\ score);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a9ebdeaaa783828a4fce76d2c2ac5933b}{print}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores}{FeatureScores}}\ score);}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a9ebdeaaa783828a4fce76d2c2ac5933b}{print}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score}{HardwareScore}}\ score);}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a08ca1dda43fb009894cdef7e1c3700d1}{getTotal}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_device_score}{DeviceScore}}\ score);}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a08ca1dda43fb009894cdef7e1c3700d1}{getTotal}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores}{FeatureScores}}\ score);}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_score_wrapper_a08ca1dda43fb009894cdef7e1c3700d1}{getTotal}}(\mbox{\hyperlink{structprism_1_1_p_g_c_1_1_hardware_score}{HardwareScore}}\ score);}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater}{DeviceRater}}\ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_a75ec84388186457666beb97111f8a8d6}{rate}}(VkPhysicalDevice\ device,\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1utils_1_1_context}{PGC::utils::Context}}*\ context,\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1utils_1_1_settings}{utils::Settings}}*\ settings);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_afcaf74e7371b669c7c3719d599fcc913}{debugDeviceSelection}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_af19dd6c0a960f9206b58d320514a7d0e}{getDeviceTypeScore}}(VkPhysicalDevice\ device);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_a699b466cde759c7b2d95218bdbd7e15c}{getDeviceFeatureScore}}(VkPhysicalDevice\ device);}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_a65e32202617923a7d73f7ee29a8d8b08}{getDeviceHardwareScore}}(VkPhysicalDevice\ device);}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_ad36db9dc1f623d8835ad19bd456053c2}{getDeviceApiScore}}(VkPhysicalDevice\ device);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{structprism_1_1_p_g_c_1_1_feature_scores}{FeatureScores}}\ \mbox{\hyperlink{classprism_1_1_p_g_c_1_1_device_rater_a8400fc54676f3b03713f80a3ddd8e428}{calculateFeatureScore}}(VkPhysicalDevice\ device);}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00063\ \ \ \ \ \}}
\DoxyCodeLine{00064\ \}}

\end{DoxyCode}
