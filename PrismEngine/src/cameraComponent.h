#pragma once

namespace prism {
    namespace scene {

        /// @brief Вектор направления взгляда камеры
        /// @details Определяет направление, в котором смотрит камера в 3D-пространстве.
        /// Обычно используется для расчета вектора forward камеры.
        /// @note Не нормализован по умолчанию - требует нормализации перед использованием
        /// в векторных операциях.
        struct Look {
            float x;  /// Компонент X вектора направления
            float y;  /// Компонент Y вектора направления  
            float z;  /// Компонент Z вектора направления
        };

        /// @brief Компонент камеры для определения параметров вида и проекции
        /// @details Определяет виртуальную камеру в сцене, отвечающую за то,
        /// какая часть 3D-мира отображается на экране. Компонент содержит
        /// параметры как для перспективной проекции, так и настройки вида.
        /// 
        /// @note В сцене может быть несколько камер, но активной должна быть
        /// только одна камера с установленным флагом isActive.
        /// 
        /// @example
        /// ```cpp
        /// CameraComponent camera;
        /// camera.isActive = true;
        /// camera.look = {0.0f, 0.0f, -1.0f}; // Смотрит вдоль отрицательной Z
        /// camera.fovy = 60.0f; // Широкий угол обзора
        /// camera.zNear = 0.01f; // Близкая плоскость для детализации
        /// camera.zFar = 1000.0f; // Дальняя плоскость для больших сцен
        /// ```
        struct CameraComponent
        {
            bool isActive;                      /// Флаг активности камеры (только одна активная камера в сцене)
            Look look = { 0.0f, 0.0f, 0.0f };  /// Направление взгляда камеры в мировом пространстве

            // Параметры перспективной проекции
            float fovy = 45.0f;                /// Угол обзора по вертикали (Field of View Y) в градусах
            float aspect = 16.f / 9.f;         /// Соотношение сторон (ширина/высота) viewport'а
            float zNear = 0.1f;                /// Ближняя плоскость отсечения (в единицах мира)
            float zFar = 10.0f;                /// Дальняя плоскость отсечения (в единицах мира)

            // Настройки автоматического расчета соотношения сторон
            bool useCurrentWindowAspect = true; /// Автоматически использовать соотношение сторон окна. Если true, параметр aspect игнорируется и берется соотношение сторон текущего окна/viewport'а
        };
    }
}